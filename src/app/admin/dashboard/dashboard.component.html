<div class="page-container animate-fade-in-up">
    <div class="page-content">

        <!-- Welcome Header -->
        <app-welcome-card title="منصة التحكم للمدير" subtitle="مرحباً بك، إليك ملخص النشاط الحالي"
            icon="admin_panel_settings" status="متصل" statusClass="status-dot-online" [showLogout]="true">
        </app-welcome-card>

        <!-- Stats Grid -->
        <div class="grid-stats mb-md">
            <app-stat-card *ngFor="let stat of stats" [label]="stat.label" [value]="stat.value" [icon]="stat.icon"
                [colorClass]="stat.colorClass">
            </app-stat-card>
        </div>

        <!-- Quick Actions Section -->
        <div class="card card-glass rounded-xl p-md">
            <app-page-header title="الإجراءات السريعة" subtitle="إدارة العمليات اليومية للنظام">
            </app-page-header>

            <div class="grid-stats">
                <app-action-card title="إنشاء بطولة" description="إعداد مسابقة جديدة" icon="add_circle"
                    colorClass="primary" (clicked)="navigateTo('/admin/tournaments/new')">
                </app-action-card>

                <app-action-card title="مراجعة الحسابات" description="إدارة المستخدمين" icon="person_check"
                    colorClass="info" (clicked)="navigateTo('/admin/users')">
                </app-action-card>

                <app-action-card title="الموافقات المالية" description="متابعة الرسوم" icon="payments" colorClass="gold"
                    (clicked)="navigateTo('/admin/payment-requests')">
                </app-action-card>
            </div>
        </div>

        <div class="grid-2-cols gap-xl mt-xl">
            <!-- Recent Activity -->
            <div class="card card-glass rounded-xl p-md overflow-hidden">
                <app-page-header title="آخر النشاطات" icon="history">
                    <app-button variant="ghost" size="sm" (click)="navigateTo('/admin/activity-log')">الكل</app-button>
                </app-page-header>

                <div class="activity-list mt-md">
                    <div *ngFor="let activity of recentActivities.slice(0, 5)"
                        class="activity-item py-sm border-b border-visible last:border-0">
                        <div class="flex items-center gap-md">
                            <div class="activity-icon bg-surface rounded-full p-xs text-primary">
                                <span class="material-symbols-outlined text-sm">bolt</span>
                            </div>
                            <div class="flex-col">
                                <p class="m-0 text-sm font-bold text-main">{{ activity.type }}</p>
                                <p class="m-0 text-xs text-muted">{{ activity.message }}</p>
                            </div>
                            <span class="ms-auto text-xs text-muted">{{ activity.time }}</span>
                        </div>
                    </div>
                </div>
                <div *ngIf="recentActivities.length === 0" class="p-xl text-center text-muted">لا يوجد نشاط مؤخراً</div>
            </div>

            <!-- Live Matches -->
            <div class="card card-glass rounded-xl p-md overflow-hidden">
                <app-page-header title="مباريات اليوم" icon="live_tv">
                    <app-button variant="ghost" size="sm" (click)="navigateTo('/admin/matches')">الكل</app-button>
                </app-page-header>

                <div class="live-matches-mini mt-md">
                    <div *ngFor="let match of liveMatches.slice(0, 3)"
                        class="match-mini-row py-sm px-md bg-surface rounded-lg mb-sm">
                        <div class="flex items-center justify-between">
                            <span class="text-sm font-bold truncate w-24 text-center">{{ match.homeTeamName }}</span>
                            <div
                                class="score-pill bg-gold bg-opacity-10 text-gold px-sm py-xs rounded font-bold text-sm mx-sm">
                                {{ match.homeScore }} - {{ match.awayScore }}
                            </div>
                            <span class="text-sm font-bold truncate w-24 text-center">{{ match.awayTeamName }}</span>
                        </div>
                    </div>
                </div>
                <div *ngIf="liveMatches.length === 0" class="p-xl text-center text-muted">لا توجد مباريات جارية اليوم
                </div>
            </div>
        </div>
    </div>
</div>