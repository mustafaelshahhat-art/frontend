<!-- Actions Template -->
<ng-template #actionsTemplate>
    <app-button (click)="saveSettings()" variant="primary" icon="save" [isLoading]="isSaving()"
        [disabled]="isLoading() || settingsForm.invalid">
        حفظ الإعدادات
    </app-button>
</ng-template>

<!-- Main Content -->
<div class="max-w-2xl mx-auto flex-col gap-xl w-full">

    <form [formGroup]="settingsForm" class="flex-col gap-lg">

        <!-- Team Creation Control -->
        <div class="card p-xl flex items-center justify-between gap-xl animate-fade-in">
            <div class="flex-col gap-1">
                <h3 class="text-lg font-bold text-primary mb-0">تشغيل الفرق</h3>
                <p class="text-sm text-muted mb-0">التحكم في إمكانية إنشاء الفرق داخل النظام من قبل اللاعبين</p>
            </div>
            <app-toggle formControlName="allowTeamCreation" />
        </div>

        <!-- Maintenance Mode Control -->
        <div class="card p-xl flex items-center justify-between gap-xl animate-fade-in animate-delay-100">
            <div class="flex-col gap-1">
                <h3 class="text-lg font-bold text-danger mb-0">وضع الصيانة</h3>
                <p class="text-sm text-muted mb-0">إيقاف النظام مؤقتاً ومنع الدخول لجميع المستخدمين عدا مديري النظام
                </p>
            </div>
            <app-toggle formControlName="maintenanceMode" variant="danger" />
        </div>

    </form>

    <!-- Loading State -->
    @if (isLoading()) {
    <div class="flex-center p-2xl">
        <app-icon name="sync" class="animate-spin text-primary text-4xl icon-sm"></app-icon>
    </div>
    }
</div>