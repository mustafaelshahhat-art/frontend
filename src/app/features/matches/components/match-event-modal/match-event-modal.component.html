<app-modal [visible]="visible" title="تسجيل حدث جديد" icon="edit_note" (onClose)="cancel()" size="lg">

    <div class="form-grid">
        <!-- Event Type -->
        <div class="form-field">
            <label class="form-label">نوع الحدث</label>
            <app-select [options]="eventTypeOptions" [ngModel]="eventForm.type" (ngModelChange)="onTypeChange($event)"
                placeholder="اختر الحدث">
            </app-select>
        </div>

        <!-- Team Selection -->
        <div class="form-field">
            <label class="form-label">الفريق</label>
            <app-select [options]="teamOptions" [ngModel]="eventForm.teamId" (ngModelChange)="onTeamChange($event)"
                placeholder="اختر الفريق">
            </app-select>
        </div>
    </div>

    <!-- Row for Player and Minute -->
    <div class="form-grid mt-4">
        <!-- Player Selection -->
        <div class="form-field" style="flex: 2;">
            <label class="form-label">اسم اللاعب</label>
            <app-select [options]="playerOptions" [ngModel]="eventForm.playerId"
                (ngModelChange)="onPlayerChange($event)" placeholder="اختر اللاعب" [disabled]="isPlayersLoading">
            </app-select>
        </div>

        <!-- Minute -->
        <div class="form-field" style="flex: 1;">
            <label class="form-label">الدقيقة</label>
            <input type="number" [(ngModel)]="eventForm.minute" class="form-input" min="0" max="150" placeholder="0">
        </div>
    </div>

    <div modal-footer class="flex justify-end gap-3 w-full">
        <app-button variant="ghost" (onClick)="cancel()" [disabled]="isSubmitting">
            إلغاء
        </app-button>
        <app-button variant="primary" (onClick)="submit()" [isLoading]="isSubmitting" icon="add">
            تسجيل الحدث
        </app-button>
    </div>
</app-modal>