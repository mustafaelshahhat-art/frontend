<app-modal [visible]="visible" title="تسجيل حدث جديد" icon="edit_note" (onClose)="cancel()" size="lg">

    <div class="form-grid">
        <!-- Event Type -->
        <div class="form-field">
            <label class="form-label">نوع الحدث</label>
            <app-select [options]="eventTypeOptions" [ngModel]="eventForm.type" (ngModelChange)="onTypeChange($event)"
                placeholder="اختر الحدث">
            </app-select>
        </div>

        <!-- Team Selection -->
        <div class="form-field">
            <label class="form-label">الفريق</label>
            <app-select [options]="teamOptions" [ngModel]="eventForm.teamId" (ngModelChange)="onTeamChange($event)"
                placeholder="اختر الفريق">
            </app-select>
        </div>
    </div>

    <!-- Player Selection -->
    <div class="form-field full-width mt-4">
        <label class="form-label">اسم اللاعب</label>
        <app-select [options]="playerOptions" [ngModel]="eventForm.playerName" (ngModelChange)="onPlayerChange($event)"
            placeholder="اختر اللاعب" [disabled]="isPlayersLoading">
        </app-select>
    </div>

    <div modal-footer class="flex justify-end gap-3 w-full">
        <app-button variant="ghost" (onClick)="cancel()" [disabled]="isSubmitting">
            إلغاء
        </app-button>
        <app-button variant="primary" (onClick)="submit()" [isLoading]="isSubmitting" icon="add">
            تسجيل الحدث
        </app-button>
    </div>
</app-modal>