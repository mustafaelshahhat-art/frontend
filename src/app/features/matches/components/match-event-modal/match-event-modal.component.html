<app-modal [visible]="visible" title="تسجيل حدث جديد" icon="edit_note" [allowOverflow]="true" (closeRequest)="cancel()"
    size="lg">
    <div class="form-grid">
        <!-- Event Type -->
        <div class="form-field">
            <span class="form-label">نوع الحدث</span>
            <app-select [options]="eventTypeOptions" [ngModel]="eventForm.type" (ngModelChange)="onTypeChange($event)"
                placeholder="اختر الحدث" />
        </div>

        <!-- Team Selection -->
        <div class="form-field">
            <span class="form-label">الفريق</span>
            <app-select [options]="teamOptions" [ngModel]="eventForm.teamId" (ngModelChange)="onTeamChange($event)"
                placeholder="اختر الفريق" />
        </div>
    </div>

    <!-- Row for Player and Minute -->
    <div class="form-grid mt-4">
        <!-- Player Selection -->
        <div class="form-field flex-2">
            <span class="form-label">اسم اللاعب</span>
            <app-select [options]="playerOptions" [ngModel]="eventForm.playerId"
                (ngModelChange)="onPlayerChange($event)" placeholder="اختر اللاعب" [disabled]="isPlayersLoading" />
        </div>

        <!-- Minute -->
        <div class="form-field flex-1">
            <span class="form-label">الدقيقة</span>
            <input type="number" [(ngModel)]="eventForm.minute" class="form-input" min="0" max="150" placeholder="0">
        </div>
    </div>

    <div modal-footer class="flex justify-end gap-3 w-full">
        <app-button variant="ghost" (trigger)="cancel()" [disabled]="isSubmitting">
            إلغاء
        </app-button>
        <app-button variant="primary" (trigger)="submit()" [isLoading]="isSubmitting" icon="add">
            تسجيل الحدث
        </app-button>
    </div>
</app-modal>