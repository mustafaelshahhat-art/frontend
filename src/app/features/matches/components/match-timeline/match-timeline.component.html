<div class="events-timeline">
    <div class="timeline-line"></div>

    <div *ngFor="let event of events; trackBy: trackById" class="event-row"
        [class.event-home]="event.teamId === homeTeamId" [class.event-away]="event.teamId !== homeTeamId">

        <div class="timeline-dot"></div>

        <div class="event-card">
            <div class="event-icon-box" [attr.data-type]="event.type">
                <span class="material-symbols-outlined">{{ getEventIcon(event.type) }}</span>
            </div>

            <div class="event-info">
                <div class="event-top-row">
                    <span class="event-type-label">{{ getEventLabel(event.type) }}</span>
                    <span class="event-time" *ngIf="event.minute">{{ event.minute }}'</span>
                </div>

                <h4 class="player-name">{{ event.playerName || 'لاعب غير معروف' }}</h4>

                <div class="team-meta">
                    <span class="team-badge" [class.home]="event.teamId === homeTeamId"
                        [class.away]="event.teamId !== homeTeamId">
                        <span class="material-symbols-outlined">shield</span>
                        {{ event.teamId === homeTeamId ? homeTeamName : awayTeamName }}
                    </span>
                </div>
            </div>

            <div class="card-side-indicator" [class.home]="event.teamId === homeTeamId"
                [class.away]="event.teamId !== homeTeamId"></div>

            <app-icon-button *appHasPermission="Permission.MANAGE_MATCHES" (onClick)="onDelete(event.id)" icon="delete"
                variant="danger" size="sm" tooltip="حذف الحدث" class="delete-btn">
            </app-icon-button>
        </div>
    </div>
</div>