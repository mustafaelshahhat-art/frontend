<app-modal [visible]="visible" title="تقديم اعتراض" icon="gavel" (closeRequest)="close()" size="lg">
    <div class="objection-form-content">
        <!-- Header Info -->
        @if (match) {
        <div class="mb-4">
            <p class="text-secondary">{{ match.homeTeamName }} vs {{ match.awayTeamName }}</p>
            <p class="text-xs text-muted">{{ match.tournamentName }}</p>
        </div>
        }

        <div class="form-grid">
            <!-- Objection Type -->
            <div class="form-field full-width">
                <span class="form-label">نوع الاعتراض</span>
                <app-select [options]="objectionTypeOptions" [(ngModel)]="objectionForm.type"
                    placeholder="اختر نوع الاعتراض" />
            </div>

            <!-- Description -->
            <div class="form-field full-width">
                <span class="form-label">شرح الاعتراض</span>
                <app-form-control type="textarea" [(ngModel)]="objectionForm.description" [rows]="4"
                    placeholder="اشرح سبب الاعتراض بالتفصيل..." />
            </div>

            <!-- File Upload -->
            <div class="form-field full-width">
                <app-file-upload label="المرفقات (صور أو فيديوهات توضيحية)" [multiple]="true" accept="image/*,video/*"
                    (filesSelected)="onFilesSelected($event)" />
            </div>
        </div>
    </div>

    <div modal-footer class="flex justify-end gap-3 w-full">
        <app-button (trigger)="close()" variant="ghost" [disabled]="isSubmitting()">إلغاء</app-button>
        <app-button (trigger)="submit()" variant="primary" icon="send"
            [disabled]="!objectionForm.type || !objectionForm.description || isSubmitting()"
            [isLoading]="isSubmitting()">
            إرسال الاعتراض
        </app-button>
    </div>
</app-modal>