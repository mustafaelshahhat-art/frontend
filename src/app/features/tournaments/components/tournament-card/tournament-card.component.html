<div class="tournament-card-premium" [class.clickable]="isClickable" (click)="onCardClick()">
    <!-- Banner with Icon and Status Badge -->
    <div class="tournament-banner">
        <span class="material-symbols-outlined emoji-glow">emoji_events</span>
        <div class="status-badge-overlay">
            <app-badge [type]="badgeType">
                {{ tournament.status | statusLabel }}
            </app-badge>
        </div>
    </div>

    <!-- Tournament Info -->
    <div class="tournament-info">
        <h3>{{ tournament.name }}</h3>
        <p>{{ tournament.description }}</p>
    </div>

    <!-- Stats Row -->
    <div class="tournament-stats">
        <div class="stat-item">
            <div class="stat-header">
                <span class="material-symbols-outlined">payments</span>
                <span class="label">الجائزة</span>
            </div>
            <span class="value">{{ tournament.prizes[0] }}</span>
        </div>
        <div class="stat-item">
            <div class="stat-header">
                <span class="material-symbols-outlined">calendar_today</span>
                <span class="label">تاريخ البدء</span>
            </div>
            <span class="value">{{ tournament.startDate | date:'yyyy/MM/dd' }}</span>
        </div>
    </div>

    <!-- Registration Progress Bar -->
    <div class="fill-bar-wrapper">
        <div class="fill-label">
            <span>الفرق المسجلة</span>
            <span>{{ tournament.currentTeams }} / {{ tournament.maxTeams }}</span>
        </div>
        <div class="fill-bar">
            <div class="fill-progress" [style.width.%]="progressPercent"></div>
        </div>
    </div>

    <!-- Action Buttons -->
    <div class="tournament-actions">
        <app-button variant="primary" style="flex: 1;" (click)="onViewDetailsClick($event)">
            التفاصيل
        </app-button>
        <app-button *ngIf="showRegisterButton && tournament.status === TournamentStatus.REGISTRATION_OPEN"
            variant="outline" style="flex: 1;" (click)="onRegisterClick($event)"
            [disabled]="isUserPending || isRegistered || isBusy"
            [title]="isUserPending ? 'يجب تفعيل حسابك أولاً لتتمكن من التسجيل' : isRegistered ? 'لقد قمت بالتسجيل بالفعل' : isBusy ? 'فريقك مسجل بالفعل في بطولة أخرى' : ''">
            {{ isRegistered ? (myRegistration?.status === RegistrationStatus.APPROVED ? 'مسجل' : 'قيد المراجعة') : (myRegistration?.status === RegistrationStatus.REJECTED ? 'تسجيل مرة أخرى' : 'تسجيل الآن') }}
        </app-button>
    </div>
</div>