<div class="tournaments-page">
    <app-page-header [title]="isAdmin() ? 'إدارة البطولات' : 'البطولات المتاحة'"
        [subtitle]="isAdmin() ? 'مركز التحكم في البطولات والمسابقات' : 'تنافس مع الأفضل واصنع مجد فريقك'">
        <app-button *ngIf="isAdmin()" (click)="createNewTournament()" icon="add_circle">
            بطولة جديدة
        </app-button>
    </app-page-header>

    <div class="tournaments-content">
        <!-- Filter Bar -->
        <div class="toolbar">
            <app-filter [items]="filters" [activeValue]="currentFilter()" (change)="setFilter($event)">
            </app-filter>
        </div>

        <!-- Loading State -->
        <app-inline-loading *ngIf="isLoading()" message="جاري تحميل البطولات...">
        </app-inline-loading>

        <!-- Empty State -->
        <app-empty-state *ngIf="!isLoading() && filteredTournaments().length === 0" icon="emoji_events"
            title="لا توجد بطولات" description="لا توجد بطولات حالياً في هذا التصنيف. ترقبوا الإعلانات القادمة!">
        </app-empty-state>

        <!-- Tournaments Grid -->
        <div *ngIf="!isLoading() && filteredTournaments().length > 0" class="tournaments-grid">
            <app-tournament-card *ngFor="let tournament of filteredTournaments(); trackBy: trackById"
                [tournament]="tournament" [showRegisterButton]="isCaptain()" [isBusy]="isTeamBusy()"
                (viewDetails)="viewDetails($event)" (register)="registerTeam($event)">
            </app-tournament-card>
        </div>
    </div>
</div>