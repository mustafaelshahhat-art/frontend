<div class="match-card-compact" [class.is-live]="isLive" [class.is-finished]="isFinished"
    [class.is-cancelled]="isCancelled" [class.is-postponed]="isPostponed" [class.clickable]="isClickable"
    (click)="onCardClick()" (keyup.enter)="onCardClick()" [attr.tabindex]="isClickable ? 0 : null"
    [attr.role]="isClickable ? 'button' : null">

    <!-- Header -->
    <div class="match-card-header">
        <div class="match-card-icon">
            <app-icon [name]="statusConfig.icon || 'sports_soccer'" class="icon-sm"></app-icon>
        </div>
        <span class="match-card-badge" [attr.data-variant]="statusConfig.variant">
            @if (isLive) {
            <span class="live-dot"></span>
            }
            {{ statusConfig.label }}
        </span>
    </div>

    <!-- Title -->
    <div class="match-card-title">
        <h4>{{ title || match.tournamentName || 'مباراة ودية' }}</h4>
        @if (match.stageName || match.roundNumber) {
        <span class="match-stage-label">{{ match.stageName }}{{ match.roundNumber ? ' - الجولة ' + match.roundNumber : '' }}</span>
        }
        @if (match.date) {
        <div class="match-time-badge">
            <app-icon name="schedule" class="icon-xs"></app-icon>
            {{ match.date | date:'hh:mm a' }} - {{ match.date | date:'yyyy/MM/dd' }}
        </div>
        }
        @if (subtitle) {
        <p>{{ subtitle }}</p>
        }
    </div>

    <!-- Match Info -->
    <div class="match-card-info">
        <div class="match-card-teams">
            <!-- Home Team -->
            <div class="match-card-team">
                <span class="match-card-team-name">{{ match.homeTeamName || 'فريق' }}</span>
            </div>

            <!-- VS / Score -->
            <div class="match-card-vs">
                @if (isScheduled) {
                <span class="vs-label">VS</span>
                } @else {
                <div class="match-card-score" [class.score-live]="isLive">
                    <span class="score-digit">{{ match.homeScore }}</span>
                    <span class="score-separator">-</span>
                    <span class="score-digit">{{ match.awayScore }}</span>
                </div>
                }
            </div>

            <!-- Away Team -->
            <div class="match-card-team">
                <span class="match-card-team-name">{{ match.awayTeamName || 'فريق' }}</span>
            </div>
        </div>
    </div>

    <!-- Actions (Projected) -->
    <div class="match-card-actions-wrapper">
        <ng-content />
    </div>
</div>