<div class="match-card-compact" [class.is-live]="isLive" [class.is-finished]="isFinished"
    [class.is-cancelled]="isCancelled" [class.is-postponed]="isPostponed" [class.clickable]="isClickable"
    (click)="onCardClick()" (keyup.enter)="onCardClick()" [attr.tabindex]="isClickable ? 0 : null">

    <!-- Header -->
    <div class="match-card-header">
        <div class="match-card-icon">
            <span class="material-symbols-outlined">{{ statusConfig.icon || 'sports_soccer' }}</span>
        </div>
        <span class="match-card-badge" [attr.data-variant]="statusConfig.variant">
            @if (isLive) {
            <span class="live-dot"></span>
            }
            {{ statusConfig.label }}
        </span>
    </div>

    <!-- Title -->
    <div class="match-card-title">
        <h4>{{ title || match.tournamentName || 'مباراة ودية' }}</h4>
        @if (match.date) {
        <div class="match-time-badge">
            <span class="material-symbols-outlined icon-xs">schedule</span>
            {{ match.date | date:'hh:mm a' }} - {{ match.date | date:'yyyy/MM/dd' }}
        </div>
        }
        @if (subtitle) {
        <p>{{ subtitle }}</p>
        }
    </div>

    <!-- Match Info -->
    <div class="match-card-info">
        <div class="match-card-teams">
            <!-- Home Team -->
            <div class="match-card-team">
                <div class="match-card-team-avatar">
                    <app-smart-image [src]="match.homeTeamLogoUrl" type="team" size="xs"
                        [initials]="match.homeTeamName.charAt(0) || '؟'">
                    </app-smart-image>
                </div>
                <span class="match-card-team-name">{{ match.homeTeamName || 'فريق' }}</span>
            </div>

            <!-- VS / Score -->
            <div class="match-card-vs">
                @if (isScheduled) {
                <span>vs</span>
                }
                @if (!isScheduled) {
                <div class="match-card-score">
                    {{ match.homeScore }} - {{ match.awayScore }}
                </div>
                }
            </div>

            <!-- Away Team -->
            <div class="match-card-team">
                <div class="match-card-team-avatar">
                    <app-smart-image [src]="match.awayTeamLogoUrl" type="team" size="xs"
                        [initials]="match.awayTeamName.charAt(0) || '؟'">
                    </app-smart-image>
                </div>
                <span class="match-card-team-name">{{ match.awayTeamName || 'فريق' }}</span>
            </div>
        </div>
    </div>

    <!-- Actions (Projected) -->
    <div class="match-card-actions-wrapper">
        <ng-content></ng-content>
    </div>
</div>